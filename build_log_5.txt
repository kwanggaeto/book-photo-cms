
> preview
> opennextjs-cloudflare build && opennextjs-cloudflare preview


┌─────────────────────────────┐
│ OpenNext — Cloudflare build │
└─────────────────────────────┘

WARN OpenNext is not fully compatible with Windows.
WARN For optimal performance, it is recommended to use Windows Subsystem for Linux (WSL).
WARN While OpenNext may function on Windows, it could encounter unpredictable failures during runtime.
App directory: D:\Kwangkee_Works\Projects\2025_12_책박물관\book-photo-cms
Next.js version : 15.5.9
@opennextjs/cloudflare version: 1.14.0
@opennextjs/aws version: 3.9.0

┌─────────────────────────────────┐
│ OpenNext — Building Next.js app │
└─────────────────────────────────┘


> build
> next build

Using vars defined in .dev.vars
   ▲ Next.js 15.5.9
   - Environments: .env

   Creating an optimized production build ...
Using vars defined in .dev.vars
Using vars defined in .dev.vars
Using vars defined in .dev.vars
 ✓ Compiled successfully in 2.6s
   Linting and checking validity of types ...

./src/app/admin/page.tsx
65:8  Warning: React Hook useEffect has a missing dependency: 'fetchPhotos'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps
153:49  Warning: Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element

info  - Need to disable some ESLint rules? Learn more here: https://nextjs.org/docs/app/api-reference/config/eslint#disabling-rules
   Collecting page data ...
 ⚠ Using edge runtime on a page currently disables static generation for that page
   Generating static pages (0/9) ...
   Generating static pages (2/9) 
   Generating static pages (4/9) 
   Generating static pages (6/9) 
 ✓ Generating static pages (9/9)
   Finalizing page optimization ...
   Collecting build traces ...

Route (app)                                 Size  First Load JS
┌ ƒ /                                      136 B         102 kB
├ ○ /_not-found                            994 B         103 kB
├ ○ /admin                               58.6 kB         161 kB
├ ƒ /api/cron/cleanup                      136 B         102 kB
├ ƒ /api/image/[uid]                       136 B         102 kB
├ ƒ /api/photos                            136 B         102 kB
└ ƒ /api/upload                            136 B         102 kB
+ First Load JS shared by all             102 kB
  ├ chunks/255-cb395327542b56ef.js       45.9 kB
  ├ chunks/4bd1b696-c023c6e3521b1417.js  54.2 kB
  └ other shared chunks (total)          1.97 kB


○  (Static)   prerendered as static content
ƒ  (Dynamic)  server-rendered on demand


┌──────────────────────────────┐
│ OpenNext — Generating bundle │
└──────────────────────────────┘

Bundling middleware function...
Bundling static assets...
Bundling cache assets...
Building server function: default...
opennextjs-cloudflare build

Build an OpenNext Cloudflare worker

Options:
      --help                        Show help                          [boolean]
      --version                     Show version number                [boolean]
  -c, --config                      Path to Wrangler configuration file [string]
      --configPath                  Path to Wrangler configuration file
                                                           [deprecated] [string]
  -e, --env                         Wrangler environment to use for operations
                                                                        [string]
  -s, --skipNextBuild, --skipBuild  Skip building the Next.js app
                                                      [boolean] [default: false]
      --noMinify                    Disable worker minification
                                                      [boolean] [default: false]
      --skipWranglerConfigCheck     Skip checking for a Wrangler config
                                                      [boolean] [default: false]
      --openNextConfigPath          Path to the OpenNext configuration file
                                                                        [string]

Error: 
--------------------------------------------------------------------------------
app/api\image\[uid]\route cannot use the edge runtime.
OpenNext requires edge runtime function to be defined in a separate function.
See the docs for more information on how to bundle edge runtime functions.
--------------------------------------------------------------------------------
        
    at computeCopyFilesForPage (file:///D:/Kwangkee_Works/Projects/2025_12_%EC%B1%85%EB%B0%95%EB%AC%BC%EA%B4%80/book-photo-cms/node_modules/@opennextjs/aws/dist/build/copyTracedFiles.js:108:23)
    at file:///D:/Kwangkee_Works/Projects/2025_12_%EC%B1%85%EB%B0%95%EB%AC%BC%EA%B4%80/book-photo-cms/node_modules/@opennextjs/aws/dist/build/copyTracedFiles.js:173:9
    at Array.forEach (<anonymous>)
    at copyTracedFiles (file:///D:/Kwangkee_Works/Projects/2025_12_%EC%B1%85%EB%B0%95%EB%AC%BC%EA%B4%80/book-photo-cms/node_modules/@opennextjs/aws/dist/build/copyTracedFiles.js:172:12)
    at generateBundle (file:///D:/Kwangkee_Works/Projects/2025_12_%EC%B1%85%EB%B0%95%EB%AC%BC%EA%B4%80/book-photo-cms/node_modules/@opennextjs/cloudflare/dist/cli/build/open-next/createServerBundle.js:121:60)
    at createServerBundle (file:///D:/Kwangkee_Works/Projects/2025_12_%EC%B1%85%EB%B0%95%EB%AC%BC%EA%B4%80/book-photo-cms/node_modules/@opennextjs/cloudflare/dist/cli/build/open-next/createServerBundle.js:75:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async build (file:///D:/Kwangkee_Works/Projects/2025_12_%EC%B1%85%EB%B0%95%EB%AC%BC%EA%B4%80/book-photo-cms/node_modules/@opennextjs/cloudflare/dist/cli/build/build.js:70:5)
    at async buildCommand (file:///D:/Kwangkee_Works/Projects/2025_12_%EC%B1%85%EB%B0%95%EB%AC%BC%EA%B4%80/book-photo-cms/node_modules/@opennextjs/cloudflare/dist/cli/commands/build.js:21:5)
